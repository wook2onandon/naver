<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>

  <link rel="stylesheet" type="text/css" href="css/destyle.css" />
  <link rel="stylesheet" type="text/css" href="css/common_2.css" />
</head>

<body>
  <div class="slide_container">
    <div class="myslide">
      <div class="myslide_bg">
        <div class="content_wrap">
          <h1>
            <strong>삶의 가치를 높이는<br />기술을 연구합니다.</strong>
          </h1>
          <p>당신이 더 가치 있는 일에 몰입할 수 있도록<br />삶을 더 깊이 이해하는 기술을 만들어갑니다.</p>
        </div>
        <div class="slide_logo1"></div>
      </div>
    </div>
    <div class="myslide">
      <div class="myslide_bg_2">
        <div class="content_wrap">
          <h1>
            <strong>무한한 가능성과의<br />만남을 기대합니다.</strong>
          </h1>
          <p>다양한 스몰비즈니스와 크리에이터의 가치가 발견되고<br />그 이름을 꽃 피울 수 있도록 함께 합니다.</p>
        </div>
        <div class="slide_logo2"></div>
      </div>
    </div>
    <div class="myslide">
      <div class="myslide_bg_3">
        <div class="content_wrap">
          <h1>
            <strong>삶의 가치를 높이는<br />기술을 연구합니다.</strong>
          </h1>
          <p>
            당신이 더 가치 있는 일에 몰입할 수 있도록<br />
            삶을 더 깊이 이해하는 기술을 만들어갑니다.
          </p>
        </div>
        <div class="slide_logo3"></div>
      </div>
    </div>
    <div class="myslide">
      <div class="myslide_bg_4">
        <div class="content_wrap">
          <h1>
            <strong>삶의 가치를 높이는<br />기술을 연구합니다.</strong>
          </h1>
          <p>
            당신이 더 가치 있는 일에 몰입할 수 있도록<br />
            삶을 더 깊이 이해하는 기술을 만들어갑니다.
          </p>
        </div>
        <div class="slide_logo4"></div>
      </div>
    </div>
    <a class="button_prev" id="button_Prev"></a>
    <a class="button_next" id="button_Next"></a>

    <div class="hr_bg">
      <span class="hr_bar" id="current_progressbar"></span>
    </div>
    <div class="slide_num">
      <strong id="slide_current_num">1</strong>&nbsp;&nbsp;|&nbsp;&nbsp;4
    </div>
  </div>

  <script>

    //슬라이드
    var slideIndex = 0; // 현재 슬라이드의 넘버
    var mySlide = document.getElementsByClassName("myslide");
    var currentBar = 100 / mySlide.length;

    var slideInter = setInterval(slideNext, 5000);

    function setInterSlide() {
      slideInter = setInterval(slideNext, 5000);
    }

    function clearInterSlide() {
      clearInterval(slideInter);
    }

    window.onload = function () {
      document.getElementById('button_Next').addEventListener('click', slideNext);
      document.getElementById('button_Prev').addEventListener('click', slidePrev);
    }



    function slidePrev() {

      console.log(mySlide.length); //슬라이드 갯수 4가 출력 됨.
      clearInterSlide();

      document.getElementById('button_Next').removeEventListener('click', slideNext);
      document.getElementById('button_Prev').removeEventListener('click', slidePrev);


      if (slideIndex == 0) { //첫번째 슬라이드일 경우
        mySlide[mySlide.length - 2].style = "left:-100%;"; //다음 다음 슬라이드 준비

        mySlide[slideIndex].style = "left:100%; transition: left 0.5s;"; //현재 슬라이드 오른쪽 아웃
        mySlide[mySlide.length - 1].style = "left:0px; transition: left 0.5s;"; //다음 슬라이드 오른쪽 인
      }

      else if (slideIndex == 1) { //두번째 페이지일 경우
        mySlide[mySlide.length - 1].style = "left:-100%;";
        mySlide[slideIndex].style = "left:100%; transition: left 0.5s;";//현재 슬라이드 오른쪽 아웃
        mySlide[slideIndex - 1].style = "left:0px; transition: left 0.5s;"; //다음 슬라이드 오른쪽 인
      }

      else {
        mySlide[slideIndex - 2].style = "left:-100%; ";
        mySlide[slideIndex].style = "left:100%; transition: left 0.5s;";//현재 슬라이드 오른쪽 아웃
        mySlide[slideIndex - 1].style = "left:0px; transition: left 0.5s;"; //다음 슬라이드 오른쪽 인
      }

      slideIndex = slideIndex - 1;
      if (slideIndex < 0) {
        slideIndex = mySlide.length - 1;
      }//슬라이드 인덱스 증가

      currentBar = currentBar - (100 / mySlide.length);
      if (currentBar <= 0) { currentBar = 100; }
      document.getElementById("current_progressbar").style.width = currentBar + "%";
      document.getElementById("slide_current_num").innerHTML = slideIndex + 1;


      setTimeout(function () {
        document.getElementById('button_Next').addEventListener('click', slideNext);
        document.getElementById('button_Prev').addEventListener('click', slidePrev);
      }, 1000);

      setInterSlide();
    }


    function slideNext() {

      console.log(mySlide.length); //슬라이드 갯수 4가 출력 됨.

      clearInterSlide();

      document.getElementById('button_Next').removeEventListener('click', slideNext);
      document.getElementById('button_Prev').removeEventListener('click', slidePrev);


      if (slideIndex == 0) { //첫번째 슬라이드일 경우
        mySlide[mySlide.length - 1].style = "left:100%;"; //마지막 슬라이드 오른쪽으로 준비 - 4번 슬라이드를 준비
        mySlide[slideIndex].style = "left:-100%; transition: left 0.5s;"; //현재 슬라이드 왼쪽 아웃
        mySlide[slideIndex + 1].style = "left:0px; transition: left 0.5s;"; //다음 슬라이드 왼쪽 인

      }

      else if (slideIndex == mySlide.length - 1) {
        mySlide[slideIndex - 1].style = "left:100%;"; //다음 다음 슬라이드 오른쪽으로 준비 - 1번 슬라이드를 준비
        mySlide[slideIndex].style = "left:-100%; transition: left 0.5s;"; //현재 슬라이드 왼쪽 아웃
        mySlide[0].style = "left:0px; transition: left 0.5s;"; //첫번째 슬라이드 왼쪽 인

      }

      else {
        mySlide[slideIndex - 1].style = "left:100%;"; //다음다음 슬라이드 오른쪽으로 준비
        mySlide[slideIndex].style = "left:-100%; transition: left 0.5s;"; //현재 슬라이드 왼쪽 아웃
        mySlide[slideIndex + 1].style = "left:0px; transition: left 0.5s;"; //다음 슬라이드 왼쪽 인

      }

      slideIndex = slideIndex + 1;
      if (slideIndex > mySlide.length - 1) {
        slideIndex = 0;
      }//슬라이드 인덱스 증가

      currentBar = currentBar + (100 / mySlide.length);
      if (currentBar > 100) { currentBar = 100 / mySlide.length; }
      document.getElementById("current_progressbar").style.width = currentBar + "%";
      document.getElementById("slide_current_num").innerHTML = slideIndex + 1;


      setTimeout(function () {
        document.getElementById('button_Next').addEventListener('click', slideNext);
        document.getElementById('button_Prev').addEventListener('click', slidePrev);
      }, 1000);
      setInterSlide();
    }

  </script>
</body>

</html>